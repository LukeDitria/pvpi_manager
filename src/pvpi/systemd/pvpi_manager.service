[Unit]
Description=PV PI Manager Service
After=pvpi_uart.service
Requires=pvpi_uart.service

[Service]
Type=simple
User=pi
Group=pi
WorkingDirectory=/home/pi/pvpi_manager
ExecStartPre=/home/pi/.local/bin/uv sync --frozen --no-dev
ExecStart=/home/pi/.local/bin/uv run pvpi manager
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target